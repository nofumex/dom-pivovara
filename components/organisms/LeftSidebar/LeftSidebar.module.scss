.container {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  width: 280px;
  min-width: 280px;
  flex-shrink: 0;
}

.sidebarSections {
  width: 100%;
  transition: top 0.2s ease-out;
  --sidebar-height: 0px;
}

// Когда сайдбар виден на главной и в каталоге, SidebarSections должен быть просто ниже сайдбара
.container.sidebarVisible:not(.dropdownMode) .sidebarSections {
  position: relative !important;
  margin-top: 0;
  top: auto !important;
  left: auto !important;
  width: 100% !important;
  max-width: 100% !important;
  box-shadow: none;
  border-right: none;
}

// Когда сайдбар скрыт на других страницах, SidebarSections должен быть прямо под надписью Каталог в хедере
// Позиционируем его фиксированно относительно viewport (прямо под навигационной панелью)
.container:not(.sidebarVisible) .sidebarSections {
  position: fixed;
  top: calc(var(--header-total-height, 170px)) !important;
  left: 0;
  width: 280px !important;
  max-width: 280px;
  z-index: 5;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05);
  border-right: 1px solid var(--color-border);
  background: var(--color-white);
}

// Когда сайдбар выдвинут вниз (dropdown mode), SidebarSections тоже должен сдвинуться вниз
// Используем CSS переменную для высоты сайдбара
.container.sidebarVisible.dropdownMode .sidebarSections {
  position: fixed;
  top: calc(var(--header-total-height, 170px) + var(--sidebar-height, 0px));
  left: 0;
  width: 280px !important;
  max-width: 280px;
  z-index: 5;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05);
  border-right: 1px solid var(--color-border);
  background: var(--color-white);
}

